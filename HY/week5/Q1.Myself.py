#Q1. ì—¬ëŸ¬ë¶„ í˜¹ì‹œ ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤31 ê²Œì„ì„ ì•„ì‹œë‚˜ìš”? 1ë¶€í„° 31ê¹Œì§€ ìˆ«ìë¥¼ í”Œë ˆì´ì–´ë“¤ë¼ë¦¬ ë²ˆê°ˆì•„ ì™¸ì¹˜ë‹¤ê°€ 31ì„ ì™¸ì¹˜ëŠ” ì‚¬ëŒì´ íŒ¨ë°°í•˜ëŠ” ê²Œì„ì¸ë°ìš”.

#ì´ë²ˆì—” ì´ ê²Œì„ì„ íŒŒì´ì¬ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. ì§€ì„±ì´ ì—†ì´ ìˆ«ìë¥¼ ëœë¤í•˜ê²Œ ì™¸ì¹˜ëŠ” ì»´í“¨í„°ì™€ ëŒ€ê²°ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.
#ì¡°ê±´1 - ë‚˜ì˜ í„´ì—ì„œëŠ” ìˆ«ìë¥¼ ì§ì ‘ ì…ë ¥í•˜ë©° í•œ ë²ˆ ì…ë ¥ í›„ì— space í•œ ë²ˆìœ¼ë¡œ êµ¬ë¶„
#Ex)
#my = input("My turn - ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: ")
#1 2 3

#ì¡°ê±´2 - ë‚˜ì™€ ì»´í“¨í„° ëª¨ë‘ í•œ í„´ì— 1íšŒ ~ 3íšŒê¹Œì§€ë§Œ ìˆ«ìë¥¼ ì™¸ì¹  ìˆ˜ ìˆìŒ

#ì¡°ê±´3 - ì™¸ì³ì§„ ìˆ«ìë³´ë‹¤ 1í° ìˆ˜ë§Œ ì™¸ì¹ ìˆ˜ ìˆìŒ (ex: 5 ë‹¤ìŒì—” ë¬´ì¡°ê±´ 6)

#ìœ„ ì¡°ê±´ì´ ì•ˆë§ì„ ê²½ìš° ë‹¤ì‹œ ì…ë ¥
#ğŸ§hint
#ì¶œë ¥ì˜ˆì‹œ
#bs31()

#ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤ ì¨ë¦¬ì› ê²Œì„
#My turn - ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: 1 2 3
#í˜„ì¬ ìˆ«ì : 3
#ì»´í“¨í„° : 4
#í˜„ì¬ ìˆ«ì : 4

#My turn - ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”: 5
#í˜„ì¬ ìˆ«ì : 5
#ì»´í“¨í„° : 6
#ì»´í“¨í„° : 7
#í˜„ì¬ ìˆ«ì : 7


####################################################
#---------------------MY RULE----------------------#
####################################################

# step 1 : í”Œë ˆì´ì–´ì™€ ì»´í“¨í„°ê°€ ì…ë ¥í•œ ìˆ«ìë“¤ì„ ì €ì¥í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤.

# step 2 : í”Œë ˆì´ì–´ì—ê²Œ ìˆ«ìë¥¼ ì…ë ¥ë°›ëŠ”ë‹¤.
#          1) ê²Œì„ ì§„í–‰ìˆœì„œì— ë§ëŠ” ìˆ«ìë¥¼ ì…ë ¥í•  ê²ƒ
#          2) ìˆ«ì ì‚¬ì´ì— ìŠ¤í˜ì´ìŠ¤ë¥¼ ì…ë ¥í•  ê²ƒ
#          3) ì…ë ¥í•˜ëŠ” ìˆ«ìëŠ” ì—°ì†ë  ê²ƒ

# step 3 : í”Œë ˆì´ì–´ê°€ ì˜ëª»ëœ ê°’ì„ ì…ë ¥í•˜ëŠ” ì—ëŸ¬ì˜ ëŒ€ì²˜ë¥¼ ë§Œë“ ë‹¤.
#          1) ìˆ«ìê°€ ì•„ë‹Œ ë¬¸ìë¥¼ ì…ë ¥í•œ ê²½ìš°
#          2) ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¹ ëœ¨ë¦° ê²½ìš°(ìë™ìœ¼ë¡œ '3)'ìœ¼ë¡œ ì¸ì‹)
#          3) ì§„í–‰ìˆœì„œì— ë§ì§€ ì•ŠëŠ” ìˆ«ìë¥¼ ì…ë ¥í•œ ê²½ìš° 
#          4) í•œ ê°œë„ ì…ë ¥í•˜ì§€ ì•Šê±°ë‚˜ ë„¤ ê°œ ì´ìƒì„ ì…ë ¥í•œ ê²½ìš°

# step 4 : í”Œë ˆì´ì–´ê°€ ì…ë ¥í•œ ìˆ«ì ë’¤ì— ì´ì–´ì§€ëŠ” ìˆ«ìë¥¼ ì»´í“¨í„°ê°€ 1~3ê°œ ì™¸ì¹  ìˆ˜ ìˆë„ë¡ í•œë‹¤(random.randit ì‚¬ìš©).

# step 5 : í”Œë ˆì´ì–´ê°€ ì…ë ¥í•œ ìˆ«ìì™€ ì»´í“¨í„°ê°€ ì¶œë ¥í•œí•œ ìˆ«ìì¸ ë¬¸ìì—´ì„ ìŠ¤í˜ì´ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ split í•œ ë’¤ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•œë‹¤.

# step 6 : ì¼ë ¨ì˜ ê³¼ì •ì„ ë°˜ë³µë¬¸ìœ¼ë¡œ ì„¤ì •í•œ ë’¤ í”Œë ˆì´ì–´ë‚˜ ì»´í“¨í„°ê°€ 31ì„ ì™¸ì¹˜ëŠ” ìˆœê°„ ê²Œì„ì„ ì¢…ë£Œí•˜ê³  ìŠ¹ìë¥¼ ì„ ì–¸í•œë‹¤.
#          1) 31ì„ ì™¸ì³ì•¼ í•˜ëŠ” ì°¨ë¡€ë©´ 31ê¹Œì§€ë§Œ ì™¸ì¹  ìˆ˜ ìˆì–´ì•¼ í•¨
#          2) ë§Œì•½ ì»´í“¨í„°ê°€ 28~30 ì‚¬ì´ì—ì„œ ì¶œë ¥ì„ ì‹œì‘í•œë‹¤ë©´ 30ìœ¼ë¡œ ë§ˆë¬´ë¦¬ ì§€ì–´ì•¼ í•¨(ë‚œì´ë„ ì—…)
####################################################

# ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤31 ê²Œì„ START#

import random

print('[ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤31 ê²Œì„!!]')
print('')
print('Rule 1 : ì—°ì†ëœ ìˆ«ìë¥¼ í•œ ê°œì—ì„œ ì„¸ ê°œ ê¹Œì§€ ì…ë ¥í•˜ì„¸ìš”("1"ì—ì„œ ì‹œì‘).')
print('Rule 2 : ì»´í“¨í„°ë„ í”Œë ˆì´ì–´ê°€ ì…ë ¥í•œ ë§ˆì§€ë§‰ ìˆ«ìì— ì´ì–´ í•œ ê°œì—ì„œ ì„¸ ê°œì˜ ìˆ«ìë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.')
print('Rule 3 : ìƒëŒ€ë°©ì´ ì¶œë ¥í•œ ë§ˆì§€ë§‰ ìˆ«ìì™€ ì´ì–´ì§€ëŠ” ìˆ«ìë¥¼ í•œ ê°œì—ì„œ ì„¸ ê°œ ê¹Œì§€ ë²ˆê°ˆì•„ê°€ë©° ì…ë ¥í•©ë‹ˆë‹¤.')
print('Rule 4 : "31"ì„ ì…ë ¥í•˜ëŠ” ì‚¬ëŒì´ íŒ¨ë°°í•©ë‹ˆë‹¤.')
print('****** : ìˆ«ì ì‚¬ì´ëŠ” ìŠ¤í˜ì´ìŠ¤ë°”ë¡œ êµ¬ë¶„í•˜ì„¸ìš”.')
print('****** : ê²Œì„ì„ ì¢…ë£Œí•˜ë ¤ë©´ "done"ì„ ì…ë ¥í•˜ì„¸ìš”.')
print('')

def bs31() :

  number = ['0']

  while 1 : 
    user = input(' ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš” : ')
    userSplit = user.split()

#0. ê²Œì„ì„ ì¢…ë£Œí•˜ê³  ì‹¶ì€ ê²½ìš°---------------------------------
    if user == 'done' :
      print('')
      print('ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.')
      break

#1.í”Œë ˆì´ì–´ ì…ë ¥ ì—ëŸ¬ ëŒ€ì²˜------------------------------------
#1-1) ì •ìˆ˜ê°€ ì•„ë‹Œ ê°’ì„ ì…ë ¥í•œ ê²½ìš°-----------------------------
    try : 
      list(map(int, userSplit))
    except : 
      print(' * Error : ì •ìˆ˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
      continue  

#1-2) ì•„ë¬´ëŸ° ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°---------------------------
    if len(userSplit) == 0 :
      print(' * Error : ìµœì†Œ í•œ ê°œ ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
      continue

#1-3)í”Œë ˆì´ì–´ê°€ 31ì„ ì™¸ì¹˜ëŠ” ì°¨ë¡€ì¸ ê²½ìš° 31ì„ ì´ˆê³¼í•˜ëŠ” ìˆ«ì ì…ë ¥ ë¶ˆê°€--
    if max(number) == 29 :
      if len(userSplit) > 2 :
        print(' * Error : 31ì„ ì´ˆê³¼í•˜ëŠ” ìˆ«ìëŠ” ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
        continue
    if max(number) == 30 :
      if len(userSplit) > 1 :
        print(' * Error : 31ì„ ì´ˆê³¼í•˜ëŠ” ìˆ«ìëŠ” ì…ë ¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
        continue

#1-4) ë„¤ ê°œ ì´ìƒì˜ ìˆ«ìë¥¼ ì…ë ¥í•œ ê²½ìš°---------------------------
    if len(userSplit) > 3 : 
      print(' * Error : ì„¸ ê°œ ì´í•˜ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
      continue

#1-5) ì§„í–‰ìˆœì„œì— ë§ì§€ ì•ŠëŠ” ìˆ«ìë¥¼ ì…ë ¥í•œ ê²½ìš°---------------------
    if int(max(number)) != int(userSplit[0]) - 1 :
      print(' * Error : ì§„í–‰ìˆœì„œì— ë§ëŠ” ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”')
      continue  

#1-6) ì…ë ¥í•œ ìˆ«ìê°€ ì—°ì†ë˜ì§€ ì•Šì„ ê²½ìš°---------------------------
    if len(userSplit) == 2 :
      if int(userSplit[1]) - int(userSplit[0]) != 1 : 
        print(' * Error : ì—°ì†ëœ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
        continue

    if len(userSplit) == 3 :
      if int(userSplit[2]) - int(userSplit[1]) != 1 : 
        print(' * Error : ì—°ì†ëœ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
        continue

      if int(userSplit[2]) - int(userSplit[0]) != 2 : 
        print(' * Error : ì—°ì†ëœ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.')
        continue

#â˜…â˜…â˜… ìŠ¹ì íŒë… ë° ë¦¬ê²Œì„ â˜…â˜…â˜…
    if '31' in userSplit :
      print('')
      print('ì»´í“¨í„°ì˜ ìŠ¹ë¦¬ã…œã…œã…œã…œ')
      regame = input('ê²Œì„ì„ í•œ ë²ˆ ë” ì§„í–‰í•˜ê³  ì‹¶ë‹¤ë©´ "re"ë¥¼ ì…ë ¥í•˜ì„¸ìš”. ê²Œì„ì„ ì¢…ë£Œí•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë¬´ í‚¤ë‚˜ ì…ë ¥í•˜ì„¸ìš”.')
      print('')
      if regame == 're' :
        number = ['0']
        continue
      else : 
        print('ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.')
        break


#2. ì‚¬ìš©ì ì…ë ¥ê°’ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€---------------------------------
    number = number + userSplit
    number = list(map(int, number))


#3. ì»´í“¨í„° ì…ë ¥ê°’ ì„¤ì •----------------------------------------
#3-1) ì»´í“¨í„° ì°¨ë¡€ì— 28~30ì„ ì™¸ì¹  ìˆœì„œê°€ ì˜¨ ê²½ìš°-------------------
    comp = ''
    compRandNum = random.randint(1,3)

    if int(max(number)) == 27 :
      comp = '28 29 30' 
      print(' ì»´í“¨í„° :' + comp)
      
    elif max(number) == 28 :
      comp = '29 30'
      print(' ì»´í“¨í„° :' + comp)
    elif max(number) == 29 :
      comp = '30'
      print(' ì»´í“¨í„° :' + comp)

#3-2 ì»´í“¨í„° ì°¨ë¡€ì— 31ì„ ì™¸ì¹  ìˆœì„œê°€ ì˜¨ ê²½ìš°-----------------------
    elif max(number) == 30 :
      comp = '31'
      print(' ì»´í“¨í„° :' + comp)
    

#3-3) ì»´í“¨í„° ê¸°ë³¸ ì…ë ¥ê°’ ì„¤ì •-----------------------------------
    elif compRandNum == 1 :
      comp = str(int(max(number)) + 1)
      print(' ì»´í“¨í„° : ' + comp)
    elif compRandNum == 2 :
      comp = str(int(max(number)) + 1) + ' ' + str(int(max(number)) + 2)
      print(' ì»´í“¨í„° : ' + comp)    
    elif compRandNum == 3 :
      comp = str(int(max(number)) + 1) + ' ' + str(int(max(number)) + 2)+ ' ' + str(int(max(number)) + 3)
      print(' ì»´í“¨í„° : ' + comp)

#â˜…â˜…â˜… ìŠ¹ì íŒë… ë° ë¦¬ê²Œì„ â˜…â˜…â˜…
    compSplit = comp.split()
    
    if compSplit[0] == '31' : 
      print('')
      print('â˜…â˜…â˜… í”Œë ˆì´ì–´ì˜ ìŠ¹ë¦¬! â˜…â˜…â˜…')
      regame = input('ê²Œì„ì„ í•œ ë²ˆ ë” ì§„í–‰í•˜ê³  ì‹¶ë‹¤ë©´ "re"ë¥¼ ì…ë ¥í•˜ì„¸ìš”. \nê²Œì„ì„ ì¢…ë£Œí•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë¬´ í‚¤ë‚˜ ì…ë ¥í•˜ì„¸ìš”.')
      print('')      
      if regame == 're' :
        number = ['0']
        continue
      else : 
        print('ê²Œì„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.')
        break


#4. ì»´í“¨í„° ì¶œë ¥ê°’ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€---------------------------------
    number = number + compSplit
    number = list(map(int, number))
#---------------------bs31 í•¨ìˆ˜ ë-------------------------  
    